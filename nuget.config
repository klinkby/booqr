<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <packageSources>
    <clear />
    <add key="nuget.org" value="https://api.nuget.org/v3/index.json" />
  </packageSources>

  <!-- Package Source Mapping: Explicitly map all packages to nuget.org
       This prevents dependency confusion attacks by ensuring packages
       are only restored from trusted sources -->
  <packageSourceMapping>
    <packageSource key="nuget.org">
      <package pattern="*" />
    </packageSource>
  </packageSourceMapping>

  <!-- Security Configuration -->
  <config>
    <!-- Require signature validation for all packages -->
    <add key="signatureValidationMode" value="require" />
  </config>

  <!-- Trusted Signers: Only accept packages from trusted sources
       This adds an additional layer of supply chain security -->
  <trustedSigners>
    <!-- Trust the NuGet.org repository for signed packages -->
    <repository name="nuget.org" serviceIndex="https://api.nuget.org/v3/index.json">
      <!-- NuGet.org's repository signing certificate -->
      <certificate fingerprint="0E5F38F57DC1BCC806D8494F4F90FBCEDD988B46760709CBEEC6F4219AA6157D" hashAlgorithm="SHA256" allowUntrustedRoot="false" />
      <!-- Additional owners can be specified here for fine-grained control -->
    </repository>
  </trustedSigners>
</configuration>
